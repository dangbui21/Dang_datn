<nb-card class="auth-form change-password-card">
    <nb-card-header>
      <h1>Đổi Mật Khẩu</h1>
    </nb-card-header>
    
    <nb-card-body>
      <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
        <div class="form-control-group">
          <label class="label" for="currentPassword">Mật khẩu hiện tại:</label>
          <input nbInput
                 fullWidth
                 type="password"
                 id="currentPassword"
                 formControlName="currentPassword"
                 placeholder="Mật khẩu hiện tại">
          <ng-container *ngIf="changePasswordForm.get('currentPassword').touched && changePasswordForm.get('currentPassword').errors?.required">
            <p class="error-message">Mật khẩu hiện tại là bắt buộc</p>
          </ng-container>
        </div>
  
        <div class="form-control-group">
          <label class="label" for="newPassword">Mật khẩu mới:</label>
          <input nbInput
                 fullWidth
                 type="password"
                 id="newPassword"
                 formControlName="newPassword"
                 placeholder="Mật khẩu mới">
          <ng-container *ngIf="changePasswordForm.get('newPassword').touched && changePasswordForm.get('newPassword').errors?.required">
            <p class="error-message">Mật khẩu mới là bắt buộc</p>
          </ng-container>
          <ng-container *ngIf="changePasswordForm.get('newPassword').touched && changePasswordForm.get('newPassword').errors?.minlength">
            <p class="error-message">Mật khẩu mới phải có ít nhất 6 ký tự</p>
          </ng-container>
        </div>
  
        <div class="form-control-group">
          <label class="label" for="confirmPassword">Xác nhận mật khẩu mới:</label>
          <input nbInput
                 fullWidth
                 type="password"
                 id="confirmPassword"
                 formControlName="confirmPassword"
                 placeholder="Xác nhận mật khẩu mới">
          <ng-container *ngIf="changePasswordForm.get('confirmPassword').touched && changePasswordForm.get('confirmPassword').errors?.required">
            <p class="error-message">Xác nhận mật khẩu mới là bắt buộc</p>
          </ng-container>
          <ng-container *ngIf="changePasswordForm.errors?.mismatch && changePasswordForm.get('confirmPassword').touched">
            <p class="error-message">Mật khẩu mới và xác nhận mật khẩu không khớp</p>
          </ng-container>
        </div>
  
        <button nbButton
                fullWidth
                status="primary"
                [disabled]="!changePasswordForm.valid"
                type="submit">
          Đổi Mật Khẩu
        </button>
      </form>
    </nb-card-body>
  </nb-card>